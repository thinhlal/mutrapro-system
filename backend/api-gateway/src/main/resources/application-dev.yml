server:
  port: 8080

app:
  api-prefix: ${API_PREFIX:/api/v1}
  cors:
    allowed-origins: http://localhost:5173,http://127.0.0.1:5173

management:
  endpoints:
    web:
      exposure:
        include: health,info,gateway

spring:
  data:
    redis:
      host: redis-11105.c292.ap-southeast-1-1.ec2.redns.redis-cloud.com
      port: 11105
      password: 7h9vCLiYAuVo4IBKbOJHz2LKcW8B4l0a
  cloud:
    gateway:
      server:
        webflux:
          default-filters:
            - DedupeResponseHeader=Access-Control-Allow-Credentials Access-Control-Allow-Origin
          routes:
            # Identity Service
            - id: identity-service
              uri: ${IDENTITY_URI:http://localhost:8081}
              predicates:
                - Path=${app.api-prefix}/identity/**
              filters:
                - StripPrefix=3

            # Project Service (handles contracts, tasks, files, and studio bookings)
            - id: project-service
              uri: ${PROJECT_URI:http://localhost:8082}
              predicates:
                - Path=${app.api-prefix}/projects/**
              filters:
                - StripPrefix=3

            # Request Service
            - id: request-service
              uri: ${REQUEST_URI:http://localhost:8084}
              predicates:
                - Path=${app.api-prefix}/requests/**
              filters:
                - StripPrefix=3

            # Billing Service
            - id: billing-service
              uri: ${BILLING_URI:http://localhost:8083}
              predicates:
                - Path=${app.api-prefix}/billing/**
              filters:
                - StripPrefix=3

            # Specialist Service
            - id: specialist-service
              uri: ${SPECIALIST_URI:http://localhost:8086}
              predicates:
                - Path=${app.api-prefix}/specialists/**
              filters:
                - StripPrefix=3

            # Notification Service
            - id: notification-service
              uri: ${NOTIFICATION_URI:http://localhost:8085}
              predicates:
                - Path=${app.api-prefix}/notifications/**
              filters:
                - StripPrefix=3

            # Chat Service
            - id: chat-service
              uri: ${CHAT_URI:http://localhost:8088}
              predicates:
                - Path=${app.api-prefix}/chat/**
              filters:
                - StripPrefix=3

jwt:
  signerKey: QVHfEyXEd7KG4eUfYAWOUvuPjlufU3vImJ0MEialEhHoQPjB6wZTL6Ma9XLnKaYn